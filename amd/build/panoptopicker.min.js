define(["jquery","core/ajax","core/templates","core/notification"],function(a,b,c,d){var e=0,f=function(a){if(a.target.value){var c=b.call([{methodname:"repository_panopto_get_session_by_id",args:{sessionid:a.target.value,contextid:e}}]);c[0].done(function(a){g(a)}).fail(function(a){a.backtrace=null,d.exception(a)})}},g=function(b){var e={};b.session&&a.extend(e,b.session),c.render("repository_panopto/form_panoptopicker",e).done(function(b){a("#panoptopicker-area").empty().append(a(b).html())}).fail(d.exception)};return{init:function(b){e=b.contextid,a("#"+b.elementid).on("change",f).trigger("change")}}});